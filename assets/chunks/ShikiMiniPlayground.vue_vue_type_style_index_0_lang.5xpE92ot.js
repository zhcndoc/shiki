const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/index.BzVxP7Yn.js","assets/chunks/framework.DuiFwSgy.js"])))=>i.map(i=>d[i]);
import{ap as T,N as b,r as y,a5 as S,w as N,j as A,v as U,y as E,q as i,x as P,D as a,k as m,u as g,S as _,U as x,s as O,E as o,f as R,$,am as z,W as C,aq as D,p as W,ao as q,n as G}from"./framework.DuiFwSgy.js";import{d as J,V as K}from"./theme.Deth-q9v.js";const Q=J("playground",()=>{const p=T("shiki-playground-lang","typescript"),e=T("shiki-playground-theme","vitesse-dark"),r=b([]),l=b([]),d=b([]),v=b([]),f=T("shiki-playground-input",""),w=y("<pre></pre>"),u=y(""),n=y(!0);function t(){l.value.length&&r.value.length&&(p.value=l.value[Math.floor(Math.random()*l.value.length)].name,e.value=r.value[Math.floor(Math.random()*r.value.length)].name)}return(async()=>{const{createHighlighter:B}=await S(async()=>{const{createHighlighter:s}=await import("./index.BzVxP7Yn.js");return{createHighlighter:s}},__vite__mapDeps([0,1])),k=await S(()=>import("./index.DFc5L77c.js"),[]),F=k.grammars.filter(s=>s.categories?.includes("web")),{themes:H}=await S(async()=>{const{themes:s}=await import("./index.f7yhtVBx.js");return{themes:s}},[]),L=new Map;function j(s){return L.has(s)||L.set(s,fetch(`https://raw.githubusercontent.com/antfu/textmate-grammars-themes/main/samples/${s}.sample`).then(c=>c.text()).catch(c=>{console.error(c)})),L.get(s)}if(r.value=H,l.value=k.grammars,d.value=k.grammars,v.value=F,typeof window<"u"){let s=function(){w.value=c.codeToHtml(f.value,{lang:p.value,theme:e.value,transformers:[{preprocess(h){if(h.endsWith(`
`))return`${h}
`},pre(h){u.value=h.properties?.style||""}}]}),n.value=!1};const c=await B({themes:[e.value],langs:["typescript","javascript",p.value]});N(f,s,{immediate:!0}),N([p,e],async(h,V)=>{if(n.value=!0,await Promise.all([c.loadTheme(e.value),c.loadLanguage(p.value)]),(V[0]||!f.value)&&h[0]!==V[0]){const M=await j(p.value);M&&(f.value=M.trim().replace(/\n.*?from.*$/i,"").trim())}s()},{immediate:!0})}})(),{lang:p,theme:e,allLanguages:l,allThemes:r,bundledLangsFull:d,bundledLangsWeb:v,input:f,output:w,isLoading:n,preStyle:u,randomize:t}}),X={p2:"",class:"vp-doc text-sm"},Y={block:"","mb-2":""},Z=["href"],I=A({__name:"FundingButton",props:{funding:{},name:{}},setup(p){return(e,r)=>e.funding&&e.funding.length>0?(i(),U(o(K),{key:0,theme:"twoslash",class:"group",relative:"","inline-block":"",mya:"","align-middle":""},{popper:P(()=>[a("div",X,[a("strong",Y,"Support "+g(e.name)+" development:",1),(i(!0),m(_,null,x(e.funding,(l,d)=>(i(),m("div",{key:d,"text-nowrap":""},[l.handle?(i(),m(_,{key:0},[O(g(l.name)+": ",1)],64)):E("",!0),a("a",{href:l.url,target:"_blank"},g(l.handle||l.name),9,Z)]))),128))])]),default:P(()=>[r[0]||(r[0]=a("button",{title:"Funding",hover:"bg-gray/10",p1:"",rounded:""},[a("div",{"i-carbon:favorite-filled":"",op25:"","group-hover:op100":"","group-focus-within:op100":"","group-hover:text-red-500":"","transition-opacity":"","duration-250":""})],-1))]),_:1,__:[0]})):E("",!0)}}),ee={sticky:"","z-12":"",p2:"",px3:"",pl5:"",flex:"~ gap-4 items-center","left-0":"","top-0":"","right-0":"",border:"b-solid gray/5","bg-inherit":""},te={relative:"",flex:"~ gap-1 items-center","justify-start":"",class:"min-w-[8em]"},ne={"font-mono":"","text-xs":""},ae=["value"],oe={relative:"",flex:"~ gap-1 items-center","justify-start":"",class:"min-w-[8em]"},le={"font-mono":"","text-xs":""},se=["value"],re=["value"],ie={relative:"","min-h-100":"","float-left":"","min-w-full":""},ue=["innerHTML"],de=A({__name:"ShikiMiniPlayground",setup(p){const e=Q(),r=R(()=>e.allLanguages.find(u=>u.name===e.lang)),l=R(()=>e.allThemes.find(u=>u.name===e.theme)),d=y(),v=y();function f(){if(!v.value||!d.value)return;const u=v.value.children[0];u&&(u.scrollLeft=d.value.scrollLeft)}function w(){G().then(()=>{f()})}return(u,n)=>(i(),m("div",{class:"language-ts vp-adaptive-theme transition-none! mini-playground",shadow:"",style:$([o(e).preStyle,{colorScheme:l.value?.type||"inherit"}])},[a("div",ee,[a("label",te,[n[4]||(n[4]=a("div",{"i-carbon:chevron-down":"",op50:""},null,-1)),a("span",ne,g(r.value?.name),1),z(a("select",{"onUpdate:modelValue":n[0]||(n[0]=t=>o(e).lang=t),"font-mono":"",style:$(o(e).preStyle),absolute:"","inset-0":"","min-w-0":"",op0:""},[(i(!0),m(_,null,x(o(e).allLanguages,t=>(i(),m("option",{key:t.name,value:t.name},g(t.name),9,ae))),128))],4),[[D,o(e).lang]]),C(I,{name:`${r.value?.displayName} grammar`,funding:r.value?.funding},null,8,["name","funding"])]),a("label",oe,[n[6]||(n[6]=a("div",{"i-carbon:chevron-down":"",op50:""},null,-1)),a("span",le,g(l.value?.displayName),1),z(a("select",{"onUpdate:modelValue":n[1]||(n[1]=t=>o(e).theme=t),"font-mono":"",style:$(o(e).preStyle),absolute:"","inset-0":"","min-w-0":"",op0:""},[(i(!0),m(_,null,x(o(e).allThemes.filter(t=>t.type==="light"),t=>(i(),m("option",{key:t.name,value:t.name},g(t.displayName),9,se))),128)),n[5]||(n[5]=a("option",{disabled:""}," ────────── ",-1)),(i(!0),m(_,null,x(o(e).allThemes.filter(t=>t.type==="dark"),t=>(i(),m("option",{key:t.name,value:t.name},g(t.displayName),9,re))),128))],4),[[D,o(e).theme]]),C(I,{name:`${l.value?.displayName} theme`,funding:l.value?.funding},null,8,["name","funding"])]),n[8]||(n[8]=a("div",{"flex-auto":""},null,-1)),a("div",{"i-svg-spinners-3-dots-fade":"",class:W(o(e).isLoading?"op100":"op0"),"flex-none":"","transition-opacity":""},null,2),n[9]||(n[9]=a("a",{op50:"","text-xs":"","mx-2":"",hover:"op75",href:"https://textmate-grammars-themes.netlify.app/",target:"_blank",title:"Full Playground",class:"decoration-none! text-inherit!"}," Playground ",-1)),a("button",{title:"Randomize",hover:"bg-gray/10",p1:"",rounded:"",onClick:n[2]||(n[2]=(...t)=>o(e).randomize&&o(e).randomize(...t))},n[7]||(n[7]=[a("div",{"i-carbon:shuffle":"",op50:""},null,-1)]))]),a("div",ie,[a("span",{ref_key:"highlightContainerRef",ref:v,innerHTML:o(e).output},null,8,ue),z(a("textarea",{ref_key:"textAreaRef",ref:d,"onUpdate:modelValue":n[3]||(n[3]=t=>o(e).input=t),"whitespace-pre":"","overflow-auto":"","w-full":"","h-full":"","font-mono":"","bg-transparent":"",absolute:"","inset-0":"","py-20px":"","px-24px":"","text-transparent":"","caret-gray":"","tab-4":"","resize-none":"","z-10":"",class:"line-height-$vp-code-line-height font-$vp-font-family-mono text-size-$vp-code-font-size",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",onInput:w,onScroll:f},null,544),[[q,o(e).input]])])],4))}});export{de as _,I as a,Q as u};
