const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/index.D4BDDuOp.js","assets/chunks/framework.DmKigJDq.js"])))=>i.map(i=>d[i]);
import{H as ce,n as U,a3 as ne,w as V,g as fe,o as de,ap as pe,aq as me,r as N,ar as ve,N as O,f as R,as as A,E as d,a5 as H,j as ae,v as ge,y as K,q as y,x as Q,D as c,k as x,u as k,S as $,U as j,s as he,$ as I,am as J,W as X,at as Y,p as ye,ao as we}from"./framework.DmKigJDq.js";import{d as be,V as Se}from"./theme.BDjfX3-h.js";function xe(e,t){return fe()?(de(e,t),!0):!1}const _e=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const ke=Object.prototype.toString,Te=e=>ke.call(e)==="[object Object]",Ee=()=>{};function Le(...e){if(e.length!==1)return me(...e);const t=e[0];return typeof t=="function"?ne(ve(()=>({get:t,set:Ee}))):N(t)}function Ne(e,t){function n(...o){return new Promise((u,p)=>{Promise.resolve(e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})).then(u).catch(p)})}return n}const oe=e=>e();function ze(e=oe,t={}){const{initialState:n="active"}=t,o=Le(n==="active");function u(){o.value=!1}function p(){o.value=!0}const v=(...s)=>{o.value&&e(...s)};return{isActive:ne(o),pause:u,resume:p,eventFilter:v}}function B(e){return Array.isArray(e)?e:[e]}function Ae(e){return pe()}function Ce(e,t,n={}){const{eventFilter:o=oe,...u}=n;return V(e,Ne(o,t),u)}function Me(e,t,n={}){const{eventFilter:o,initialState:u="active",...p}=n,{eventFilter:v,pause:s,resume:l,isActive:a}=ze(o,{initialState:u});return{stop:Ce(e,t,{...p,eventFilter:v}),pause:s,resume:l,isActive:a}}const Oe=Me;function $e(e,t=!0,n){Ae()?ce(e,n):t?e():U(e)}function Ve(e,t,n){return V(e,t,{...n,immediate:!0})}const z=_e?window:void 0;function Fe(e){var t;const n=A(e);return(t=n?.$el)!==null&&t!==void 0?t:n}function Z(...e){const t=[],n=()=>{t.forEach(s=>s()),t.length=0},o=(s,l,a,r)=>(s.addEventListener(l,a,r),()=>s.removeEventListener(l,a,r)),u=R(()=>{const s=B(A(e[0])).filter(l=>l!=null);return s.every(l=>typeof l!="string")?s:void 0}),p=Ve(()=>{var s,l;return[(s=(l=u.value)===null||l===void 0?void 0:l.map(a=>Fe(a)))!==null&&s!==void 0?s:[z].filter(a=>a!=null),B(A(u.value?e[1]:e[0])),B(d(u.value?e[2]:e[1])),A(u.value?e[3]:e[2])]},([s,l,a,r])=>{if(n(),!s?.length||!l?.length||!a?.length)return;const _=Te(r)?{...r}:r;t.push(...s.flatMap(T=>l.flatMap(E=>a.map(L=>o(T,E,L,_)))))},{flush:"post"}),v=()=>{p(),n()};return xe(n),v}const P=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},D="__vueuse_ssr_handlers__",Pe=De();function De(){return D in P||(P[D]=P[D]||{}),P[D]}function je(e,t){return Pe[e]||t}function Re(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const We={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},ee="vueuse-storage";function He(e,t,n,o={}){var u;const{flush:p="pre",deep:v=!0,listenToStorageChanges:s=!0,writeDefaults:l=!0,mergeDefaults:a=!1,shallow:r,window:_=z,eventFilter:T,onError:E=i=>{console.error(i)},initOnMounted:L}=o,w=(r?O:N)(typeof t=="function"?t():t),b=R(()=>A(e));if(!n)try{n=je("getDefaultStorage",()=>z?.localStorage)()}catch(i){E(i)}if(!n)return w;const f=A(t),S=Re(f),g=(u=o.serializer)!==null&&u!==void 0?u:We[S],{pause:F,resume:C}=Oe(w,i=>le(i),{flush:p,deep:v,eventFilter:T});V(b,()=>M(),{flush:p});let W=!1;const re=i=>{L&&!W||M(i)},ie=i=>{L&&!W||ue(i)};_&&s&&(n instanceof Storage?Z(_,"storage",re,{passive:!0}):Z(_,ee,ie)),L?$e(()=>{W=!0,M()}):M();function q(i,m){if(_){const h={key:b.value,oldValue:i,newValue:m,storageArea:n};_.dispatchEvent(n instanceof Storage?new StorageEvent("storage",h):new CustomEvent(ee,{detail:h}))}}function le(i){try{const m=n.getItem(b.value);if(i==null)q(m,null),n.removeItem(b.value);else{const h=g.write(i);m!==h&&(n.setItem(b.value,h),q(m,h))}}catch(m){E(m)}}function se(i){const m=i?i.newValue:n.getItem(b.value);if(m==null)return l&&f!=null&&n.setItem(b.value,g.write(f)),f;if(!i&&a){const h=g.read(m);return typeof a=="function"?a(h,f):S==="object"&&!Array.isArray(h)?{...f,...h}:h}else return typeof m!="string"?m:g.read(m)}function M(i){if(!(i&&i.storageArea!==n)){if(i&&i.key==null){w.value=f;return}if(!(i&&i.key!==b.value)){F();try{const m=g.write(w.value);(i===void 0||i?.newValue!==m)&&(w.value=se(i))}catch(m){E(m)}finally{i?U(C):C()}}}}function ue(i){M(i.detail)}return w}function G(e,t,n={}){const{window:o=z}=n;return He(e,t,o?.localStorage,n)}const Ie=be("playground",()=>{const e=G("shiki-playground-lang","typescript"),t=G("shiki-playground-theme","vitesse-dark"),n=O([]),o=O([]),u=O([]),p=O([]),v=G("shiki-playground-input",""),s=N("<pre></pre>"),l=N(""),a=N(!0);function r(){o.value.length&&n.value.length&&(e.value=o.value[Math.floor(Math.random()*o.value.length)].name,t.value=n.value[Math.floor(Math.random()*n.value.length)].name)}return(async()=>{const{createHighlighter:_}=await H(async()=>{const{createHighlighter:f}=await import("./index.D4BDDuOp.js");return{createHighlighter:f}},__vite__mapDeps([0,1])),T=await H(()=>import("./index.89PdirXF.js"),[]),E=T.grammars.filter(f=>f.categories?.includes("web")),{themes:L}=await H(async()=>{const{themes:f}=await import("./index.XthCLyAg.js");return{themes:f}},[]),w=new Map;function b(f){return w.has(f)||w.set(f,fetch(`https://raw.githubusercontent.com/shikijs/textmate-grammars-themes/main/samples/${f}.sample`).then(S=>S.text()).catch(S=>{console.error(S)})),w.get(f)}if(n.value=L,o.value=T.grammars,u.value=T.grammars,p.value=E,typeof window<"u"){let f=function(){s.value=S.codeToHtml(v.value,{lang:e.value,theme:t.value,transformers:[{preprocess(g){if(g.endsWith(`
`))return`${g}
`},pre(g){l.value=g.properties?.style||""}}]}),a.value=!1};const S=await _({themes:[t.value],langs:["typescript","javascript",e.value]});V(v,f,{immediate:!0}),V([e,t],async(g,F)=>{if(a.value=!0,await Promise.all([S.loadTheme(t.value),S.loadLanguage(e.value)]),(F[0]||!v.value)&&g[0]!==F[0]){const C=await b(e.value);C&&(v.value=C.trim().replace(/\n.*?from.*$/i,"").trim())}f()},{immediate:!0})}})(),{lang:e,theme:t,allLanguages:o,allThemes:n,bundledLangsFull:u,bundledLangsWeb:p,input:v,output:s,isLoading:a,preStyle:l,randomize:r}}),Je={p2:"",class:"vp-doc text-sm"},Be={block:"","mb-2":""},Ge=["href"],te=ae({__name:"FundingButton",props:{funding:{},name:{}},setup(e){return(t,n)=>e.funding&&e.funding.length>0?(y(),ge(d(Se),{key:0,theme:"twoslash",class:"group",relative:"","inline-block":"",mya:"","align-middle":""},{popper:Q(()=>[c("div",Je,[c("strong",Be,"Support "+k(e.name)+" development:",1),(y(!0),x($,null,j(e.funding,(o,u)=>(y(),x("div",{key:u,"text-nowrap":""},[o.handle?(y(),x($,{key:0},[he(k(o.name)+": ",1)],64)):K("",!0),c("a",{href:o.url,target:"_blank"},k(o.handle||o.name),9,Ge)]))),128))])]),default:Q(()=>[n[0]||(n[0]=c("button",{title:"Funding",hover:"bg-gray/10",p1:"",rounded:""},[c("div",{"i-carbon:favorite-filled":"",op25:"","group-hover:op100":"","group-focus-within:op100":"","group-hover:text-red-500":"","transition-opacity":"","duration-250":""})],-1))]),_:1})):K("",!0)}}),Ue={sticky:"","z-12":"",p2:"",px3:"",pl5:"",flex:"~ gap-4 items-center","left-0":"","top-0":"","right-0":"",border:"b-solid gray/5","bg-inherit":""},qe={relative:"",flex:"~ gap-1 items-center","justify-start":"",class:"min-w-[8em]"},Ke={"font-mono":"","text-xs":""},Qe=["value"],Xe={relative:"",flex:"~ gap-1 items-center","justify-start":"",class:"min-w-[8em]"},Ye={"font-mono":"","text-xs":""},Ze=["value"],et=["value"],tt={relative:"","min-h-100":"","float-left":"","min-w-full":""},nt=["innerHTML"],rt=ae({__name:"ShikiMiniPlayground",setup(e){const t=Ie(),n=R(()=>t.allLanguages.find(l=>l.name===t.lang)),o=R(()=>t.allThemes.find(l=>l.name===t.theme)),u=N(),p=N();function v(){if(!p.value||!u.value)return;const l=p.value.children[0];l&&(l.scrollLeft=u.value.scrollLeft)}function s(){U().then(()=>{v()})}return(l,a)=>(y(),x("div",{class:"language-ts vp-adaptive-theme transition-none! mini-playground",shadow:"",style:I([d(t).preStyle,{colorScheme:o.value?.type||"inherit"}])},[c("div",Ue,[c("label",qe,[a[4]||(a[4]=c("div",{"i-carbon:chevron-down":"",op50:""},null,-1)),c("span",Ke,k(n.value?.name),1),J(c("select",{"onUpdate:modelValue":a[0]||(a[0]=r=>d(t).lang=r),"font-mono":"",style:I(d(t).preStyle),absolute:"","inset-0":"","min-w-0":"",op0:""},[(y(!0),x($,null,j(d(t).allLanguages,r=>(y(),x("option",{key:r.name,value:r.name},k(r.name),9,Qe))),128))],4),[[Y,d(t).lang]]),X(te,{name:`${n.value?.displayName} grammar`,funding:n.value?.funding},null,8,["name","funding"])]),c("label",Xe,[a[6]||(a[6]=c("div",{"i-carbon:chevron-down":"",op50:""},null,-1)),c("span",Ye,k(o.value?.displayName),1),J(c("select",{"onUpdate:modelValue":a[1]||(a[1]=r=>d(t).theme=r),"font-mono":"",style:I(d(t).preStyle),absolute:"","inset-0":"","min-w-0":"",op0:""},[(y(!0),x($,null,j(d(t).allThemes.filter(r=>r.type==="light"),r=>(y(),x("option",{key:r.name,value:r.name},k(r.displayName),9,Ze))),128)),a[5]||(a[5]=c("option",{disabled:""}," ────────── ",-1)),(y(!0),x($,null,j(d(t).allThemes.filter(r=>r.type==="dark"),r=>(y(),x("option",{key:r.name,value:r.name},k(r.displayName),9,et))),128))],4),[[Y,d(t).theme]]),X(te,{name:`${o.value?.displayName} theme`,funding:o.value?.funding},null,8,["name","funding"])]),a[8]||(a[8]=c("div",{"flex-auto":""},null,-1)),c("div",{"i-svg-spinners-3-dots-fade":"",class:ye(d(t).isLoading?"op100":"op0"),"flex-none":"","transition-opacity":""},null,2),a[9]||(a[9]=c("a",{op50:"","text-xs":"","mx-2":"",hover:"op75",href:"https://textmate-grammars-themes.netlify.app/",target:"_blank",title:"Full Playground",class:"decoration-none! text-inherit!"}," Playground ",-1)),c("button",{title:"Randomize",hover:"bg-gray/10",p1:"",rounded:"",onClick:a[2]||(a[2]=(...r)=>d(t).randomize&&d(t).randomize(...r))},[...a[7]||(a[7]=[c("div",{"i-carbon:shuffle":"",op50:""},null,-1)])])]),c("div",tt,[c("span",{ref_key:"highlightContainerRef",ref:p,innerHTML:d(t).output},null,8,nt),J(c("textarea",{ref_key:"textAreaRef",ref:u,"onUpdate:modelValue":a[3]||(a[3]=r=>d(t).input=r),"whitespace-pre":"","overflow-auto":"","w-full":"","h-full":"","font-mono":"","bg-transparent":"",absolute:"","inset-0":"","py-20px":"","px-24px":"","text-transparent":"","caret-gray":"","tab-4":"","resize-none":"","z-10":"",class:"line-height-$vp-code-line-height font-$vp-font-family-mono text-size-$vp-code-font-size",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",onInput:s,onScroll:v},null,544),[[we,d(t).input]])])],4))}});export{rt as _,te as a,Ie as u};
